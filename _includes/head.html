
<!-- Site build date: {{ "now" | date: "%FT%T%z" }} -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- DNS Prefetch for Performance -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">

  <!-- Modern Font - Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Begin SEO -->
  {% seo %}
  <!-- End SEO -->

  <!-- Additional SEO Meta Tags -->
  <meta name="keywords" content="{% if page.tags %}{{ page.tags | join: ', ' }}{% else %}{{ site.keywords }}{% endif %}">
  <meta name="author" content="{% if page.author %}{{ page.author }}{% else %}{{ site.author.name }}{% endif %}">
  <link rel="canonical" href="{{ page.url | absolute_url }}">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
  <meta property="og:locale" content="{{ site.lang | default: 'en_US' }}">
  <meta property="og:site_name" content="{{ site.title }}">
  {% if page.layout == 'post' %}
  <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
  <meta property="article:modified_time" content="{{ page.last_modified_at | default: page.date | date_to_xmlschema }}">
  <meta property="article:author" content="{{ site.author.name }}">
  {% if page.categories %}
    {% for category in page.categories %}
    <meta property="article:section" content="{{ category }}">
    {% endfor %}
  {% endif %}
  {% if page.tags %}
    {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag }}">
    {% endfor %}
  {% endif %}
  {% endif %}
  
  <!-- Structured Data - JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "{% if page.layout == 'post' %}BlogPosting{% else %}WebSite{% endif %}",
    "headline": "{{ page.title | default: site.title }}",
    "description": "{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 }}",
    "url": "{{ page.url | absolute_url }}",
    {% if page.layout == 'post' %}
    "datePublished": "{{ page.date | date_to_xmlschema }}",
    "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
    "articleBody": "{{ page.content | strip_html | normalize_whitespace | jsonify }}",
    "wordCount": "{{ page.content | number_of_words }}",
    "keywords": "{{ page.tags | join: ', ' }}",
    {% endif %}
    "author": {
      "@type": "Person",
      "name": "{{ site.author.name }}",
      "url": "{{ site.url }}",
      "email": "{{ site.author.email }}"
    },
    "publisher": {
      "@type": "Organization",
      "name": "{{ site.title }}",
      "url": "{{ site.url }}",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ site.logo | absolute_url }}"
      }
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ page.url | absolute_url }}"
    }
  }
  </script>
  
  <!-- Breadcrumb Structured Data -->
  {% if page.layout == 'post' %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "{{ site.url }}"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Blog",
        "item": "{{ site.url }}/archive"
      },
      {
        "@type": "ListItem",
        "position": 3,
        "name": "{{ page.title }}",
        "item": "{{ page.url | absolute_url }}"
      }
    ]
  }
  </script>
  {% endif %}

  <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">
  <link rel="stylesheet" type="text/css" href="/css/override.css">

  {% feed_meta %}

  {% if jekyll.environment == 'production' and site.google_analytics -%}
  <!-- Begin Google Analytics -->
  {% include google-analytics.html %}
  <!-- End Google Analytics -->
  {%- endif %}

  <!-- Begin highlight.js support -->
  <link rel="stylesheet" href="/js/highlightjs/styles/github.css">
  <link rel="stylesheet" href="/js/highlightjs/styles/ssms.css" />

  <script type="text/javascript" src="/js/highlightjs/highlight.min.js"></script>

  <script type="text/javascript" src="/js/highlightjs/languages/plaintext.min.js"></script>
  <script type="text/javascript" src="/js/highlightjs/languages/powershell.min.js"></script>
  <script type="text/javascript" src="/js/highlightjs/languages/tsql.min.js"></script>

  <script type="text/javascript"> hljs.highlightAll(); </script>
  <!-- end highlight.js support -->
  
  <!-- Begin Mermaid.js support for diagrams -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    // Initialize Mermaid with custom theme
    mermaid.initialize({ 
      startOnLoad: false,
      theme: 'default',
      securityLevel: 'loose',
      themeVariables: {
        primaryColor: '#2563eb',
        primaryTextColor: '#1f2937',
        primaryBorderColor: '#3b82f6',
        lineColor: '#6b7280',
        secondaryColor: '#7c3aed',
        tertiaryColor: '#06b6d4',
        fontSize: '16px',
        fontFamily: 'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
      }
    });

    // Convert code blocks to mermaid divs and render
    document.addEventListener('DOMContentLoaded', function() {
      // Find all code blocks with language-mermaid class
      const mermaidBlocks = document.querySelectorAll('pre code.language-mermaid');
      
      mermaidBlocks.forEach((block, index) => {
        // Create a new div for mermaid
        const mermaidDiv = document.createElement('div');
        mermaidDiv.classList.add('mermaid');
        mermaidDiv.textContent = block.textContent;
        
        // Replace the pre>code block with the mermaid div
        const pre = block.parentElement;
        pre.parentNode.replaceChild(mermaidDiv, pre);
      });
      
      // Now render all mermaid diagrams
      mermaid.run();
    });
  </script>
  <!-- end Mermaid.js support -->
  
  <!-- Favicon and theme color -->
  <meta name="theme-color" content="#2563eb">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
